<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="/stylesheets/css/style.css">
    <link rel="stylesheet" href="/stylesheets/bootstrap/bootstrap.min.css">


    <title>{{ title }}</title>
</head>
<body>

    <h1>{{ title }}</h1>

    <div id="gaugeCPU" class="200x160px"></div>

    <div id="gaugeThread" class="200x160px"></div>


    <script src="/javascripts/lib/jquery-3.1.1.min.js"></script>
    <script src="/javascripts/bootstrap/bootstrap.min.js"></script>
    <script src="/javascripts/justgage/raphael-2.1.4.min.js"></script>
    <script src="javascripts/justgage/justgage.js"></script>
    <script src="/javascripts/socket.io/socket.io.js"></script>


    <script>
        var gC;
        var gT;

        gC = new JustGage({
            id: "gaugeCPU",
            value: 0,
            min: 0,
            max: 100,
            title: "CPU"
        });

        gT = new JustGage({
            id: "gaugeThread",
            value: 0,
            min: 0,
            max: 100,
            title: "Threads"
        });

        var socket = io.connect('http://localhost:3001');
        socket.on('newData', function (newData) {
            console.log('Le serveur a un message pour vous : ' + newData.cpu);
            gC.refresh(newData.cpu);
            gT.refresh(newData.thread);
        });
    </script>



</body>
</html>